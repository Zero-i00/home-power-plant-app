from sqlalchemy import select
from sqlalchemy.ext.asyncio import AsyncSession
from models.city import CityModel, CityParameterModel, MonthEnum


MONTHS = [
    MonthEnum.JANUARY, MonthEnum.FEBRUARY, MonthEnum.MARCH, MonthEnum.APRIL,
    MonthEnum.MAY, MonthEnum.JUNE, MonthEnum.JULY, MonthEnum.AUGUST,
    MonthEnum.SEPTEMBER, MonthEnum.OCTOBER, MonthEnum.NOVEMBER, MonthEnum.DECEMBER
]

# Air density correction coefficients by city
AIR_DENSITY_DATA = {
    "Москва": [1.30, 1.29, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.27, 1.29],
    "Санкт-Петербург": [1.32, 1.31, 1.28, 1.21, 1.16, 1.13, 1.14, 1.16, 1.20, 1.26, 1.29, 1.31],
    "Новосибирск": [1.34, 1.33, 1.29, 1.22, 1.16, 1.13, 1.14, 1.16, 1.21, 1.27, 1.30, 1.33],
    "Екатеринбург": [1.33, 1.32, 1.28, 1.21, 1.15, 1.12, 1.13, 1.15, 1.20, 1.26, 1.29, 1.32],
    "Казань": [1.32, 1.31, 1.28, 1.21, 1.15, 1.12, 1.13, 1.15, 1.20, 1.25, 1.29, 1.31],
    "Нижний Новгород": [1.32, 1.31, 1.28, 1.21, 1.15, 1.12, 1.13, 1.15, 1.20, 1.25, 1.29, 1.31],
    "Челябинск": [1.33, 1.32, 1.29, 1.22, 1.16, 1.13, 1.14, 1.16, 1.21, 1.26, 1.30, 1.32],
    "Самара": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Омск": [1.34, 1.33, 1.29, 1.22, 1.16, 1.13, 1.14, 1.16, 1.21, 1.27, 1.30, 1.33],
    "Ростов-на-Дону": [1.28, 1.27, 1.24, 1.18, 1.14, 1.11, 1.12, 1.14, 1.18, 1.22, 1.25, 1.27],
    "Уфа": [1.32, 1.31, 1.28, 1.21, 1.16, 1.13, 1.14, 1.16, 1.20, 1.25, 1.29, 1.31],
    "Красноярск": [1.35, 1.34, 1.30, 1.23, 1.17, 1.14, 1.15, 1.17, 1.22, 1.28, 1.31, 1.34],
    "Воронеж": [1.30, 1.29, 1.26, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.27, 1.29],
    "Пермь": [1.33, 1.32, 1.29, 1.22, 1.16, 1.13, 1.14, 1.16, 1.21, 1.26, 1.30, 1.32],
    "Волгоград": [1.29, 1.28, 1.25, 1.19, 1.15, 1.12, 1.13, 1.14, 1.18, 1.23, 1.26, 1.28],
    "Краснодар": [1.27, 1.26, 1.23, 1.18, 1.14, 1.11, 1.12, 1.14, 1.17, 1.21, 1.24, 1.26],
    "Саратов": [1.30, 1.29, 1.26, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.27, 1.29],
    "Тюмень": [1.34, 1.33, 1.29, 1.22, 1.16, 1.13, 1.14, 1.16, 1.21, 1.27, 1.30, 1.33],
    "Тольятти": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Ижевск": [1.33, 1.32, 1.29, 1.22, 1.16, 1.13, 1.14, 1.16, 1.21, 1.26, 1.30, 1.32],
    "Барнаул": [1.34, 1.33, 1.29, 1.22, 1.16, 1.13, 1.14, 1.16, 1.21, 1.27, 1.30, 1.33],
    "Ульяновск": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Иркутск": [1.36, 1.35, 1.31, 1.24, 1.18, 1.15, 1.16, 1.18, 1.23, 1.29, 1.32, 1.35],
    "Хабаровск": [1.35, 1.34, 1.29, 1.22, 1.17, 1.14, 1.15, 1.17, 1.22, 1.27, 1.31, 1.34],
    "Ярославль": [1.32, 1.31, 1.28, 1.21, 1.16, 1.13, 1.14, 1.16, 1.20, 1.25, 1.29, 1.31],
    "Владивосток": [1.33, 1.32, 1.28, 1.21, 1.16, 1.13, 1.14, 1.16, 1.21, 1.26, 1.30, 1.32],
    "Махачкала": [1.26, 1.25, 1.23, 1.18, 1.14, 1.12, 1.13, 1.14, 1.17, 1.21, 1.24, 1.25],
    "Томск": [1.35, 1.34, 1.30, 1.23, 1.17, 1.14, 1.15, 1.17, 1.22, 1.28, 1.31, 1.34],
    "Кемерово": [1.35, 1.34, 1.30, 1.23, 1.17, 1.14, 1.15, 1.17, 1.22, 1.28, 1.31, 1.34],
    "Набережные Челны": [1.32, 1.31, 1.28, 1.21, 1.15, 1.12, 1.13, 1.15, 1.20, 1.25, 1.29, 1.31],
    "Оренбург": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Тула": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Киров": [1.33, 1.32, 1.29, 1.22, 1.16, 1.13, 1.14, 1.16, 1.21, 1.26, 1.30, 1.32],
    "Чебоксары": [1.32, 1.31, 1.28, 1.21, 1.15, 1.12, 1.13, 1.15, 1.20, 1.25, 1.29, 1.31],
    "Калининград": [1.31, 1.30, 1.27, 1.21, 1.16, 1.13, 1.14, 1.16, 1.20, 1.25, 1.28, 1.30],
    "Брянск": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Курск": [1.30, 1.29, 1.26, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.27, 1.29],
    "Липецк": [1.30, 1.29, 1.26, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.27, 1.29],
    "Сочи": [1.24, 1.23, 1.21, 1.17, 1.14, 1.12, 1.13, 1.14, 1.16, 1.19, 1.22, 1.23],
    "Ставрополь": [1.28, 1.27, 1.24, 1.18, 1.14, 1.11, 1.12, 1.14, 1.18, 1.22, 1.25, 1.27],
    "Владикавказ": [1.25, 1.24, 1.22, 1.17, 1.14, 1.12, 1.13, 1.14, 1.17, 1.20, 1.23, 1.24],
    "Смоленск": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Чита": [1.37, 1.36, 1.32, 1.25, 1.19, 1.16, 1.17, 1.19, 1.24, 1.30, 1.33, 1.36],
    "Калуга": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Орёл": [1.30, 1.29, 1.26, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.27, 1.29],
    "Кострома": [1.32, 1.31, 1.28, 1.21, 1.16, 1.13, 1.14, 1.16, 1.20, 1.25, 1.29, 1.31],
    "Рязань": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Астрахань": [1.28, 1.27, 1.24, 1.19, 1.15, 1.12, 1.13, 1.14, 1.18, 1.22, 1.25, 1.27],
    "Пенза": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Архангельск": [1.35, 1.34, 1.30, 1.23, 1.17, 1.14, 1.15, 1.17, 1.22, 1.28, 1.31, 1.34],
    "Северодвинск": [1.36, 1.35, 1.31, 1.24, 1.18, 1.15, 1.16, 1.18, 1.23, 1.29, 1.32, 1.35],
    "Мурманск": [1.37, 1.36, 1.32, 1.25, 1.19, 1.16, 1.17, 1.19, 1.24, 1.30, 1.33, 1.36],
    "Тверь": [1.32, 1.31, 1.28, 1.21, 1.16, 1.13, 1.14, 1.16, 1.20, 1.25, 1.29, 1.31],
    "Иваново": [1.32, 1.31, 1.28, 1.21, 1.16, 1.13, 1.14, 1.16, 1.20, 1.25, 1.29, 1.31],
    "Белгород": [1.29, 1.28, 1.25, 1.19, 1.15, 1.12, 1.13, 1.14, 1.18, 1.23, 1.26, 1.28],
    "Волжский": [1.29, 1.28, 1.25, 1.19, 1.15, 1.12, 1.13, 1.14, 1.18, 1.23, 1.26, 1.28],
    "Сургут": [1.38, 1.37, 1.33, 1.26, 1.20, 1.17, 1.18, 1.20, 1.25, 1.31, 1.34, 1.37],
    "Новокузнецк": [1.35, 1.34, 1.30, 1.23, 1.17, 1.14, 1.15, 1.17, 1.22, 1.28, 1.31, 1.34],
    "Нижневартовск": [1.38, 1.37, 1.33, 1.26, 1.20, 1.17, 1.18, 1.20, 1.25, 1.31, 1.34, 1.37],
    "Якутск": [1.40, 1.39, 1.35, 1.28, 1.22, 1.19, 1.20, 1.22, 1.27, 1.33, 1.36, 1.39],
    "Подольск": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Химки": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Балашиха": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Мытищи": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Королёв": [1.31, 1.30, 1.27, 1.20, 1.15, 1.12, 1.13, 1.15, 1.19, 1.24, 1.28, 1.30],
    "Грозный": [1.26, 1.25, 1.23, 1.18, 1.14, 1.12, 1.13, 1.14, 1.17, 1.21, 1.24, 1.25],
}

# Insolation data (kWh/m²/day)
INSOLATION_DATA = {
    "Москва": [0.6, 1.2, 2.0, 3.1, 4.3, 4.8, 4.6, 3.8, 2.4, 1.4, 0.7, 0.5],
    "Санкт-Петербург": [0.3, 0.9, 1.8, 3.0, 4.5, 5.0, 4.7, 3.7, 2.2, 1.1, 0.4, 0.2],
    "Новосибирск": [0.5, 1.1, 2.1, 3.2, 4.4, 4.9, 4.7, 3.7, 2.3, 1.3, 0.6, 0.4],
    "Екатеринбург": [0.5, 1.1, 2.0, 3.1, 4.3, 4.8, 4.6, 3.6, 2.2, 1.2, 0.6, 0.4],
    "Казань": [0.6, 1.2, 2.1, 3.2, 4.4, 4.9, 4.7, 3.8, 2.4, 1.4, 0.7, 0.5],
    "Нижний Новгород": [0.6, 1.2, 2.0, 3.1, 4.3, 4.8, 4.6, 3.7, 2.3, 1.3, 0.7, 0.5],
    "Челябинск": [0.6, 1.2, 2.1, 3.2, 4.4, 4.9, 4.7, 3.7, 2.3, 1.3, 0.7, 0.5],
    "Самара": [0.7, 1.3, 2.2, 3.3, 4.5, 5.0, 4.8, 3.9, 2.5, 1.5, 0.8, 0.6],
    "Омск": [0.5, 1.1, 2.1, 3.2, 4.4, 4.9, 4.7, 3.7, 2.3, 1.3, 0.6, 0.4],
    "Ростов-на-Дону": [1.5, 2.0, 3.0, 4.1, 5.3, 5.8, 5.9, 5.1, 3.6, 2.3, 1.5, 1.2],
    "Уфа": [0.6, 1.2, 2.1, 3.2, 4.4, 4.9, 4.7, 3.8, 2.4, 1.4, 0.7, 0.5],
    "Красноярск": [0.4, 1.0, 2.0, 3.1, 4.3, 4.8, 4.6, 3.6, 2.2, 1.2, 0.5, 0.3],
    "Воронеж": [0.8, 1.4, 2.3, 3.4, 4.6, 5.1, 5.0, 4.0, 2.6, 1.6, 0.9, 0.7],
    "Пермь": [0.5, 1.1, 2.0, 3.1, 4.3, 4.8, 4.6, 3.6, 2.2, 1.2, 0.6, 0.4],
    "Волгоград": [1.2, 1.8, 2.8, 3.9, 5.1, 5.6, 5.7, 4.9, 3.4, 2.1, 1.3, 1.0],
    "Краснодар": [1.6, 2.1, 3.1, 4.2, 5.4, 5.9, 6.0, 5.2, 3.7, 2.4, 1.6, 1.3],
    "Саратов": [0.9, 1.5, 2.4, 3.5, 4.7, 5.2, 5.3, 4.4, 2.9, 1.8, 1.0, 0.8],
    "Тюмень": [0.5, 1.1, 2.1, 3.2, 4.4, 4.9, 4.7, 3.7, 2.3, 1.3, 0.6, 0.4],
    "Тольятти": [0.7, 1.3, 2.2, 3.3, 4.5, 5.0, 4.9, 3.9, 2.5, 1.5, 0.8, 0.6],
    "Ижевск": [0.6, 1.2, 2.1, 3.2, 4.4, 4.9, 4.7, 3.8, 2.4, 1.4, 0.7, 0.5],
    "Барнаул": [0.5, 1.1, 2.1, 3.2, 4.4, 4.9, 4.7, 3.7, 2.3, 1.3, 0.6, 0.4],
    "Ульяновск": [0.7, 1.3, 2.2, 3.3, 4.5, 5.0, 4.8, 3.9, 2.5, 1.5, 0.8, 0.6],
    "Иркутск": [0.6, 1.2, 2.1, 3.2, 4.4, 4.9, 4.7, 3.8, 2.4, 1.4, 0.7, 0.5],
    "Хабаровск": [1.0, 1.5, 2.4, 3.3, 4.3, 4.5, 4.1, 3.8, 2.8, 1.8, 1.0, 0.8],
    "Ярославль": [0.5, 1.1, 2.0, 3.1, 4.3, 4.8, 4.6, 3.6, 2.2, 1.2, 0.6, 0.4],
    "Владивосток": [1.0, 1.5, 2.4, 3.3, 4.3, 4.5, 4.1, 3.8, 2.8, 1.8, 1.0, 0.8],
    "Махачкала": [1.8, 2.3, 3.3, 4.4, 5.6, 6.1, 6.2, 5.4, 3.9, 2.6, 1.8, 1.5],
    "Томск": [0.4, 1.0, 2.0, 3.1, 4.3, 4.8, 4.6, 3.6, 2.2, 1.2, 0.5, 0.3],
    "Кемерово": [0.5, 1.1, 2.1, 3.2, 4.4, 4.9, 4.7, 3.7, 2.3, 1.3, 0.6, 0.4],
    "Набережные Челны": [0.7, 1.3, 2.2, 3.3, 4.5, 5.0, 4.8, 3.9, 2.5, 1.5, 0.8, 0.6],
    "Оренбург": [1.2, 1.8, 2.8, 3.9, 5.1, 5.6, 5.7, 4.9, 3.4, 2.1, 1.3, 1.0],
    "Тула": [0.7, 1.3, 2.2, 3.3, 4.5, 5.0, 4.8, 3.9, 2.5, 1.5, 0.8, 0.6],
    "Киров": [0.5, 1.1, 2.0, 3.1, 4.3, 4.8, 4.6, 3.6, 2.2, 1.2, 0.6, 0.4],
    "Чебоксары": [0.6, 1.2, 2.1, 3.2, 4.4, 4.9, 4.7, 3.8, 2.4, 1.4, 0.7, 0.5],
    "Калининград": [0.4, 0.9, 1.9, 3.0, 4.4, 4.9, 4.6, 3.8, 2.3, 1.2, 0.5, 0.3],
    "Брянск": [0.7, 1.3, 2.2, 3.3, 4.5, 5.0, 4.8, 3.9, 2.5, 1.5, 0.8, 0.6],
    "Курск": [0.8, 1.4, 2.3, 3.4, 4.6, 5.1, 5.0, 4.0, 2.6, 1.6, 0.9, 0.7],
    "Липецк": [0.8, 1.4, 2.3, 3.4, 4.6, 5.1, 5.0, 4.0, 2.6, 1.6, 0.9, 0.7],
    "Сочи": [2.0, 2.5, 3.5, 4.6, 6.0, 6.5, 6.8, 5.5, 4.0, 2.7, 2.0, 1.6],
    "Ставрополь": [1.5, 2.0, 3.0, 4.1, 5.3, 5.8, 5.9, 5.1, 3.6, 2.3, 1.5, 1.2],
    "Владикавказ": [1.7, 2.2, 3.2, 4.3, 5.5, 6.0, 6.1, 5.3, 3.8, 2.5, 1.7, 1.4],
    "Смоленск": [0.6, 1.2, 2.0, 3.1, 4.3, 4.8, 4.6, 3.7, 2.3, 1.3, 0.7, 0.5],
    "Чита": [0.6, 1.2, 2.1, 3.2, 4.4, 4.9, 4.7, 3.8, 2.4, 1.4, 0.7, 0.5],
    "Калуга": [0.6, 1.2, 2.0, 3.1, 4.3, 4.8, 4.6, 3.7, 2.3, 1.3, 0.7, 0.5],
    "Орёл": [0.7, 1.3, 2.2, 3.3, 4.5, 5.0, 4.8, 3.9, 2.5, 1.5, 0.8, 0.6],
    "Кострома": [0.5, 1.1, 2.0, 3.1, 4.3, 4.8, 4.6, 3.6, 2.2, 1.2, 0.6, 0.4],
    "Рязань": [0.7, 1.3, 2.2, 3.3, 4.5, 5.0, 4.8, 3.9, 2.5, 1.5, 0.8, 0.6],
    "Астрахань": [1.4, 2.0, 3.0, 4.1, 5.3, 5.8, 6.0, 5.1, 3.6, 2.3, 1.5, 1.2],
    "Пенза": [0.8, 1.4, 2.3, 3.4, 4.6, 5.1, 5.0, 4.0, 2.6, 1.6, 0.9, 0.7],
    "Архангельск": [0.2, 0.7, 1.7, 3.2, 4.2, 4.7, 4.2, 3.2, 1.7, 0.7, 0.2, 0.1],
    "Северодвинск": [0.2, 0.7, 1.7, 3.1, 4.1, 4.6, 4.1, 3.1, 1.7, 0.7, 0.2, 0.1],
    "Мурманск": [0.0, 0.6, 1.8, 3.3, 4.3, 4.8, 4.3, 3.3, 1.8, 0.8, 0.1, 0.0],
    "Тверь": [0.5, 1.1, 2.0, 3.1, 4.3, 4.8, 4.6, 3.6, 2.2, 1.2, 0.6, 0.4],
    "Иваново": [0.5, 1.1, 2.0, 3.1, 4.3, 4.8, 4.6, 3.6, 2.2, 1.2, 0.6, 0.4],
    "Белгород": [0.8, 1.4, 2.3, 3.4, 4.6, 5.1, 5.0, 4.0, 2.6, 1.6, 0.9, 0.7],
    "Волжский": [1.3, 1.9, 2.9, 4.0, 5.2, 5.7, 5.8, 5.0, 3.5, 2.2, 1.4, 1.1],
    "Сургут": [0.3, 0.8, 1.8, 3.0, 4.2, 4.7, 4.5, 3.5, 2.1, 1.1, 0.4, 0.2],
    "Новокузнецк": [0.5, 1.1, 2.1, 3.2, 4.4, 4.9, 4.7, 3.7, 2.3, 1.3, 0.6, 0.4],
    "Нижневартовск": [0.3, 0.8, 1.8, 3.0, 4.2, 4.7, 4.5, 3.5, 2.1, 1.1, 0.4, 0.2],
    "Якутск": [0.3, 0.9, 2.0, 3.5, 4.7, 5.2, 5.0, 4.0, 2.5, 1.4, 0.5, 0.2],
    "Подольск": [0.6, 1.2, 2.0, 3.1, 4.3, 4.8, 4.6, 3.7, 2.3, 1.3, 0.7, 0.5],
    "Химки": [0.6, 1.2, 2.0, 3.1, 4.3, 4.8, 4.6, 3.7, 2.3, 1.3, 0.7, 0.5],
    "Балашиха": [0.6, 1.2, 2.0, 3.1, 4.3, 4.8, 4.6, 3.7, 2.3, 1.3, 0.7, 0.5],
    "Мытищи": [0.6, 1.2, 2.0, 3.1, 4.3, 4.8, 4.6, 3.7, 2.3, 1.3, 0.7, 0.5],
    "Королёв": [0.6, 1.2, 2.0, 3.1, 4.3, 4.8, 4.6, 3.7, 2.3, 1.3, 0.7, 0.5],
    "Грозный": [1.6, 2.1, 3.1, 4.2, 5.4, 5.9, 6.0, 5.2, 3.7, 2.4, 1.6, 1.3],
}

# Wind speed data (m/s)
WIND_SPEED_DATA = {
    "Москва": [3.5, 3.6, 3.5, 3.2, 2.8, 2.5, 2.4, 2.5, 2.8, 3.2, 3.4, 3.5],
    "Санкт-Петербург": [3.8, 3.7, 3.5, 3.2, 2.9, 2.7, 2.6, 2.7, 3.1, 3.5, 3.7, 3.8],
    "Новосибирск": [3.2, 3.3, 3.4, 3.6, 3.4, 3.1, 2.9, 3.0, 3.2, 3.5, 3.4, 3.2],
    "Екатеринбург": [3.0, 3.1, 3.2, 3.4, 3.2, 2.9, 2.7, 2.8, 3.0, 3.3, 3.2, 3.1],
    "Казань": [3.4, 3.5, 3.4, 3.2, 2.9, 2.6, 2.5, 2.6, 2.9, 3.3, 3.4, 3.4],
    "Нижний Новгород": [3.3, 3.4, 3.3, 3.0, 2.7, 2.4, 2.3, 2.4, 2.7, 3.1, 3.3, 3.3],
    "Челябинск": [3.4, 3.5, 3.6, 3.8, 3.5, 3.2, 3.0, 3.1, 3.4, 3.7, 3.6, 3.5],
    "Самара": [3.6, 3.7, 3.6, 3.4, 3.0, 2.7, 2.6, 2.7, 3.0, 3.4, 3.6, 3.6],
    "Омск": [3.0, 3.1, 3.3, 3.5, 3.3, 3.0, 2.8, 2.9, 3.2, 3.5, 3.3, 3.1],
    "Ростов-на-Дону": [4.2, 4.3, 4.2, 3.9, 3.5, 3.2, 3.0, 3.1, 3.4, 3.8, 4.0, 4.1],
    "Уфа": [3.5, 3.6, 3.5, 3.3, 3.0, 2.7, 2.6, 2.7, 3.0, 3.4, 3.5, 3.5],
    "Красноярск": [2.5, 2.6, 2.8, 3.0, 2.9, 2.6, 2.4, 2.5, 2.7, 2.9, 2.8, 2.6],
    "Воронеж": [4.0, 4.1, 4.0, 3.7, 3.3, 3.0, 2.9, 3.0, 3.3, 3.7, 3.9, 4.0],
    "Пермь": [3.2, 3.3, 3.4, 3.6, 3.3, 3.0, 2.8, 2.9, 3.2, 3.5, 3.4, 3.2],
    "Волгоград": [4.0, 4.1, 4.0, 3.7, 3.3, 3.0, 2.8, 2.9, 3.2, 3.6, 3.8, 3.9],
    "Краснодар": [3.8, 3.9, 3.7, 3.4, 3.0, 2.7, 2.5, 2.6, 2.9, 3.3, 3.6, 3.7],
    "Саратов": [3.8, 3.9, 3.8, 3.5, 3.1, 2.8, 2.6, 2.7, 3.0, 3.4, 3.7, 3.8],
    "Тюмень": [3.1, 3.2, 3.3, 3.5, 3.2, 2.9, 2.7, 2.8, 3.1, 3.4, 3.3, 3.2],
    "Тольятти": [3.5, 3.6, 3.5, 3.2, 2.9, 2.6, 2.5, 2.6, 2.9, 3.3, 3.5, 3.5],
    "Ижевск": [3.3, 3.4, 3.3, 3.1, 2.8, 2.5, 2.4, 2.5, 2.8, 3.2, 3.3, 3.3],
    "Барнаул": [2.9, 3.0, 3.2, 3.4, 3.2, 2.9, 2.7, 2.8, 3.1, 3.4, 3.2, 3.0],
    "Ульяновск": [3.4, 3.5, 3.4, 3.1, 2.8, 2.5, 2.4, 2.5, 2.8, 3.2, 3.4, 3.4],
    "Иркутск": [2.2, 2.3, 2.5, 2.7, 2.6, 2.3, 2.1, 2.2, 2.5, 2.7, 2.5, 2.3],
    "Хабаровск": [2.8, 2.9, 3.2, 3.6, 3.8, 3.5, 3.2, 3.3, 3.6, 3.5, 3.1, 2.9],
    "Ярославль": [3.4, 3.5, 3.4, 3.1, 2.8, 2.5, 2.4, 2.5, 2.8, 3.2, 3.4, 3.4],
    "Владивосток": [6.5, 6.2, 5.8, 5.2, 4.5, 4.0, 3.8, 4.2, 5.0, 5.8, 6.3, 6.5],
    "Махачкала": [3.5, 3.6, 3.5, 3.2, 2.9, 2.6, 2.5, 2.6, 2.9, 3.3, 3.5, 3.5],
    "Томск": [2.7, 2.8, 3.0, 3.2, 3.0, 2.7, 2.5, 2.6, 2.9, 3.2, 3.0, 2.8],
    "Кемерово": [2.6, 2.7, 2.9, 3.1, 2.9, 2.6, 2.4, 2.5, 2.8, 3.1, 2.9, 2.7],
    "Набережные Челны": [3.3, 3.4, 3.3, 3.1, 2.8, 2.5, 2.4, 2.5, 2.8, 3.2, 3.3, 3.3],
    "Оренбург": [4.2, 4.3, 4.2, 3.9, 3.5, 3.2, 3.0, 3.1, 3.4, 3.8, 4.0, 4.1],
    "Тула": [3.6, 3.7, 3.6, 3.3, 2.9, 2.6, 2.5, 2.6, 2.9, 3.3, 3.6, 3.6],
    "Киров": [3.4, 3.5, 3.4, 3.2, 2.9, 2.6, 2.5, 2.6, 2.9, 3.3, 3.4, 3.4],
    "Чебоксары": [3.5, 3.6, 3.5, 3.2, 2.9, 2.6, 2.5, 2.6, 2.9, 3.3, 3.5, 3.5],
    "Калининград": [4.5, 4.4, 4.0, 3.5, 3.0, 2.8, 2.7, 2.8, 3.5, 4.2, 4.4, 4.5],
    "Брянск": [3.7, 3.8, 3.7, 3.4, 3.0, 2.7, 2.6, 2.7, 3.0, 3.4, 3.7, 3.7],
    "Курск": [3.8, 3.9, 3.8, 3.5, 3.1, 2.8, 2.7, 2.8, 3.1, 3.5, 3.7, 3.8],
    "Липецк": [3.9, 4.0, 3.9, 3.6, 3.2, 2.9, 2.8, 2.9, 3.2, 3.6, 3.8, 3.9],
    "Сочи": [2.2, 2.3, 2.3, 2.1, 2.0, 1.9, 1.9, 2.0, 2.1, 2.2, 2.2, 2.2],
    "Ставрополь": [3.0, 3.1, 3.0, 2.7, 2.4, 2.1, 2.0, 2.1, 2.4, 2.8, 3.0, 3.0],
    "Владикавказ": [1.8, 1.9, 2.0, 1.8, 1.6, 1.4, 1.3, 1.4, 1.6, 1.8, 1.8, 1.8],
    "Смоленск": [4.2, 4.3, 4.2, 3.9, 3.5, 3.2, 3.0, 3.1, 3.4, 3.8, 4.0, 4.1],
    "Чита": [2.3, 2.4, 2.6, 2.8, 2.7, 2.4, 2.2, 2.3, 2.6, 2.8, 2.6, 2.4],
    "Калуга": [3.3, 3.4, 3.3, 3.0, 2.7, 2.4, 2.3, 2.4, 2.7, 3.1, 3.3, 3.3],
    "Орёл": [3.7, 3.8, 3.7, 3.4, 3.0, 2.7, 2.6, 2.7, 3.0, 3.4, 3.7, 3.7],
    "Кострома": [3.2, 3.3, 3.2, 2.9, 2.6, 2.3, 2.2, 2.3, 2.6, 3.0, 3.2, 3.2],
    "Рязань": [3.5, 3.6, 3.5, 3.2, 2.8, 2.5, 2.4, 2.5, 2.8, 3.2, 3.5, 3.5],
    "Астрахань": [4.0, 4.1, 4.0, 3.7, 3.3, 3.0, 2.8, 2.9, 3.2, 3.6, 3.8, 3.9],
    "Пенза": [3.6, 3.7, 3.6, 3.3, 3.0, 2.7, 2.6, 2.7, 3.0, 3.4, 3.6, 3.6],
    "Архангельск": [4.5, 4.4, 4.2, 3.8, 3.4, 3.1, 2.9, 3.1, 3.6, 4.0, 4.3, 4.5],
    "Северодвинск": [5.0, 4.9, 4.5, 4.0, 3.5, 3.2, 3.0, 3.1, 3.8, 4.5, 4.9, 5.0],
    "Мурманск": [7.0, 6.8, 6.5, 5.8, 5.0, 4.5, 4.2, 4.5, 5.5, 6.2, 6.8, 7.0],
    "Тверь": [3.4, 3.5, 3.4, 3.1, 2.8, 2.5, 2.4, 2.5, 2.8, 3.2, 3.4, 3.4],
    "Иваново": [3.3, 3.4, 3.3, 3.0, 2.7, 2.4, 2.3, 2.4, 2.7, 3.1, 3.3, 3.3],
    "Белгород": [3.8, 3.9, 3.8, 3.5, 3.1, 2.8, 2.7, 2.8, 3.1, 3.5, 3.7, 3.8],
    "Волжский": [4.1, 4.2, 4.1, 3.8, 3.4, 3.1, 2.9, 3.0, 3.3, 3.7, 3.9, 4.0],
    "Сургут": [3.8, 3.9, 4.0, 4.2, 4.0, 3.7, 3.5, 3.6, 3.9, 4.2, 4.0, 3.9],
    "Новокузнецк": [2.4, 2.5, 2.7, 2.9, 2.7, 2.4, 2.2, 2.3, 2.6, 2.9, 2.7, 2.5],
    "Нижневартовск": [3.6, 3.7, 3.8, 4.0, 3.8, 3.5, 3.3, 3.4, 3.7, 4.0, 3.8, 3.7],
    "Якутск": [1.8, 1.9, 2.1, 2.3, 2.2, 2.0, 1.8, 1.9, 2.2, 2.4, 2.1, 1.9],
    "Подольск": [3.4, 3.5, 3.4, 3.1, 2.7, 2.4, 2.3, 2.4, 2.7, 3.1, 3.3, 3.4],
    "Химки": [3.5, 3.6, 3.5, 3.2, 2.8, 2.5, 2.4, 2.5, 2.8, 3.2, 3.4, 3.5],
    "Балашиха": [3.4, 3.5, 3.4, 3.1, 2.7, 2.4, 2.3, 2.4, 2.7, 3.1, 3.3, 3.4],
    "Мытищи": [3.3, 3.4, 3.3, 3.0, 2.6, 2.3, 2.2, 2.3, 2.6, 3.0, 3.2, 3.3],
    "Королёв": [3.4, 3.5, 3.4, 3.1, 2.7, 2.4, 2.3, 2.4, 2.7, 3.1, 3.3, 3.4],
    "Грозный": [2.0, 2.1, 2.2, 2.0, 1.8, 1.6, 1.5, 1.6, 1.8, 2.0, 2.0, 2.0],
}


async def seed_database(session: AsyncSession) -> None:
    """Seed the database with cities and their parameters."""
    result = await session.execute(select(CityModel).limit(1))
    if result.scalar_one_or_none() is not None:
        return

    for city_name in AIR_DENSITY_DATA.keys():
        city = CityModel(name=city_name)
        session.add(city)
        await session.flush()

        air_density = AIR_DENSITY_DATA[city_name]
        insolation = INSOLATION_DATA[city_name]
        wind_speed = WIND_SPEED_DATA[city_name]

        for i, month in enumerate(MONTHS):
            param = CityParameterModel(
                month=month,
                insolation=insolation[i],
                wind_speed=wind_speed[i],
                air_density=air_density[i],
                city_id=city.id
            )
            session.add(param)

    await session.commit()